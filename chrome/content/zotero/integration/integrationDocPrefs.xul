<?xml version="1.0"?>
<!--
    ***** BEGIN LICENSE BLOCK *****
    
    Copyright © 2009 Center for History and New Media
                     George Mason University, Fairfax, Virginia, USA
                     http://zotero.org
    
    This file is part of Zotero.
    
    Zotero is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    
    Zotero is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.
    
    You should have received a copy of the GNU Affero General Public License
    along with Zotero.  If not, see <http://www.gnu.org/licenses/>.
    
    ***** END LICENSE BLOCK *****
-->
<?xml-stylesheet href="chrome://global/skin/global.css"?>
<?xml-stylesheet href="chrome://browser/skin/preferences/preferences.css"?>
<?xml-stylesheet href="chrome://zotero/skin/bibliography.css"?>
<!DOCTYPE window SYSTEM "chrome://zotero/locale/zotero.dtd">

<dialog
	id="zotero-doc-prefs-dialog"
	orient="vertical"
	buttons="accept,cancel"
	title="&zotero.integration.docPrefs.title;"
	onload="Zotero_File_Interface_Bibliography.init();"
	ondialogaccept="Zotero_File_Interface_Bibliography.acceptSelection();"
	onclose="document.documentElement.cancelDialog(); event.preventDefault(); event.stopPropagation();"
	xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	persist="screenX screenY"
	style="width: 600px">
	
	<script src="../include.js"/>
	<script src="../bibliography.js"/>
	
	<tabbox width="600">
	  <tabs id="doc-prefs-tabs">
		<tab>&zotero.integration.prefs.lang.styleAndFormat;</tab>
		<tab>&zotero.integration.prefs.lang.languages;</tab>
	  </tabs>
	  <tabpanels id="doc-prefs-tabpanels">
		<tabpanel>
		  <vbox id="zotero-bibliography-container">
		    <groupbox>
			  <caption label="&zotero.bibliography.style.label;"/>
			  <listbox id="style-listbox" onselect="Zotero_File_Interface_Bibliography.styleChanged()"/>
		    </groupbox>

		    <groupbox>
			  <caption label="&zotero.integration.prefs.displayAs.label;"/>
			  <radiogroup id="displayAs" orient="horizontal">
				<radio id="footnotes" label="&zotero.integration.prefs.footnotes.label;" selected="true"/>
				<radio id="endnotes" label="&zotero.integration.prefs.endnotes.label;"/>
			  </radiogroup>
		    </groupbox>
		
		    <groupbox>
			  <caption label="&zotero.integration.prefs.formatUsing.label;"/>
			
			  <radiogroup id="formatUsing" orient="vertical">
				<radio id="fields" selected="true"/>
				<label class="radioDescription" id="fields-caption"/>
				<label class="radioDescription" id="fields-file-format-notice"/>
				<radio id="bookmarks" label="&zotero.integration.prefs.bookmarks.label;"/>
				<description width="200" class="radioDescription" id="bookmarks-caption">&zotero.integration.prefs.bookmarks.caption;</description>
				<description width="200" class="radioDescription" id="bookmarks-file-format-notice"/>
			  </radiogroup>
			
			  <checkbox id="storeReferences" label="&zotero.integration.prefs.storeReferences.label;"/>
			  <description width="200" class="radioDescription">&zotero.integration.prefs.storeReferences.caption;</description>
		    </groupbox>
		  </vbox>
		</tabpanel>
		<tabpanel>
		  <groupbox>
			<caption label="&zotero.integration.prefs.lang.languagesInCitations;"/>

            <menupopup id="language-affix-menu" 
                       onpopupshowing="if (!document.popupNode.disabled &amp;&amp; !document.popupNode.checked) {Zotero_File_Interface_Bibliography.citationSecondary();return true;} else {Zotero_File_Interface_Bibliography.citationSecondary();return false;}" position="after_start">
              <menuitem label=", ..." value=", |" oncommand="Zotero_File_Interface_Bibliography.citationSetAffixes(null, this);"/>
              <menuitem label="[...]" value="[|]" oncommand="Zotero_File_Interface_Bibliography.citationSetAffixes(null, this);"/>
              <menuitem label="(...)" value="(|)" oncommand="Zotero_File_Interface_Bibliography.citationSetAffixes(null, this);"/>
            </menupopup>

			<grid>
			  <columns>
				<column flex="1"/>
				<column flex="1"/>
				<column flex="1"/>
			  </columns>
			  <rows>
				<row>
				  <label/>
				  <caption label="&zotero.integration.prefs.lang.primary;" style="text-align:center;"/>
				  <caption label="&zotero.integration.prefs.lang.secondary;" style="text-align:center;"/>
				</row>
				<row>
				  <label/>
				  <hbox style="background:#b7b7b7;margin:0px 0.5em 0px 0.5em;"/>
				  <hbox style="background:#b7b7b7;margin:0px 0.5em 0px 0.5em;"/>
				</row>
                <row>
                  <grid>
                    <columns>
                      <column/>
                    </columns>
                    <rows>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <label/>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1" text-align="right">
                          <caption label="&zotero.integration.prefs.lang.persons;"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1" text-align="right">
                          <caption label="&zotero.integration.prefs.lang.institutions;"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1" text-align="right">
                          <caption label="&zotero.integration.prefs.lang.titles;"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1" text-align="right">
                          <caption label="&zotero.integration.prefs.lang.publishers;"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1" text-align="right">
                          <caption label="&zotero.integration.prefs.lang.places;"/>
                        </hbox>
                      </row>
                    </rows>
                  </grid>
                  <grid flex="1">
                    <columns>
                      <column flex="1"/>
                    </columns>
                    <rows>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <label value="猫 (orig)"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <label value="neko"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <label value="cat"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <radiogroup id="persons-radio" orient="horizontal" flex="1" class="plain" oncommand="Zotero_File_Interface_Bibliography.citationPrimary(this);">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="persons-radio-orig"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="persons-radio-translit"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="persons-radio-translat"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </radiogroup>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <radiogroup id="institutions-radio" orient="horizontal" flex="1" class="plain" oncommand="Zotero_File_Interface_Bibliography.citationPrimary(this);">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="institutions-radio-orig"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="institutions-radio-translit"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="institutions-radio-translat"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </radiogroup>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <radiogroup id="titles-radio" orient="horizontal" flex="1" class="plain" oncommand="Zotero_File_Interface_Bibliography.citationPrimary(this);">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="titles-radio-orig"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="titles-radio-translit"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="titles-radio-translat"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </radiogroup>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <radiogroup id="publishers-radio" orient="horizontal" flex="1" class="plain" oncommand="Zotero_File_Interface_Bibliography.citationPrimary(this);">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="publishers-radio-orig"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="publishers-radio-translit"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="publishers-radio-translat"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </radiogroup>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <radiogroup id="places-radio" orient="horizontal" flex="1" class="plain" oncommand="Zotero_File_Interface_Bibliography.citationPrimary(this);">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="places-radio-orig"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="places-radio-translit"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <radio id="places-radio-translat"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </radiogroup>
                      </row>
                    </rows>
                  </grid>
                  <grid flex="1">
                    <columns>
                      <column flex="1"/>
                      <column flex="1"/>
                      <column flex="1"/>
                    </columns>
                    <rows>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <label value="猫 (orig)"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <label value="neko"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;">
                            <hbox flex="1"/>
                            <label value="cat"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="persons-checkbox-orig-prefix"/>
                            <checkbox popup="language-affix-menu" id="persons-checkbox-orig"/>
                            <label id="persons-checkbox-orig-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="persons-checkbox-translit-prefix"/>
                            <checkbox id="persons-checkbox-translit" popup="language-affix-menu"/>
                            <label id="persons-checkbox-translit-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="persons-checkbox-translat-prefix"/>
                            <checkbox id="persons-checkbox-translat" popup="language-affix-menu"/>
                            <label id="persons-checkbox-translat-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="institutions-checkbox-orig-prefix"/>
                            <checkbox id="institutions-checkbox-orig" popup="language-affix-menu"/>
                            <label id="institutions-checkbox-orig-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="institutions-checkbox-translit-prefix"/>
                            <checkbox id="institutions-checkbox-translit" popup="language-affix-menu"/>
                            <label id="institutions-checkbox-translit-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="institutions-checkbox-translat-prefix"/>
                            <checkbox id="institutions-checkbox-translat" popup="language-affix-menu"/>
                            <label id="institutions-checkbox-translat-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="titles-checkbox-orig-prefix"/>
                            <checkbox id="titles-checkbox-orig" popup="language-affix-menu"/>
                            <label id="titles-checkbox-orig-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="titles-checkbox-translit-prefix"/>
                            <checkbox id="titles-checkbox-translit" popup="language-affix-menu"/>
                            <label id="titles-checkbox-translit-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="titles-checkbox-translat-prefix"/>
                            <checkbox id="titles-checkbox-translat" popup="language-affix-menu"/>
                            <label id="titles-checkbox-translat-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="publishers-checkbox-orig-prefix"/>
                            <checkbox id="publishers-checkbox-orig" popup="language-affix-menu"/>
                            <label id="publishers-checkbox-orig-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="publishers-checkbox-translit-prefix"/>
                            <checkbox id="publishers-checkbox-translit" popup="language-affix-menu"/>
                            <label id="publishers-checkbox-translit-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="publishers-checkbox-translat-prefix"/>
                            <checkbox id="publishers-checkbox-translat" popup="language-affix-menu"/>
                            <label id="publishers-checkbox-translat-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </hbox>
                      </row>
                      <row style="max-height:1.5em;min-height:1.5em;">
                        <hbox flex="1">
                          <hbox flex="2"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="places-checkbox-orig-prefix"/>
                            <checkbox id="places-checkbox-orig" popup="language-affix-menu"/>
                            <label id="places-checkbox-orig-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="places-checkbox-translit-prefix"/>
                            <checkbox id="places-checkbox-translit" popup="language-affix-menu"/>
                            <label id="places-checkbox-translit-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="4"/>
                          <hbox  style="min-width:4.5em;" class="plain">
                            <hbox flex="1"/>
                            <label id="places-checkbox-translat-prefix"/>
                            <checkbox id="places-checkbox-translat" popup="language-affix-menu"/>
                            <label id="places-checkbox-translat-suffix"/>
                            <hbox flex="1"/>
                          </hbox>
                          <hbox flex="2"/>
                        </hbox>
                      </row>
                    </rows>
                  </grid>
                </row>
			  </rows>
			</grid>
			<separator/>
			<grid flex="1">
			  <columns>
				<column flex="1"/>
				<column flex="1"/>
				<column flex="1"/>
				<column flex="1"/>
			  </columns>
			  <rows id="lang-prefs">
				<row>
				  <caption label="&zotero.integration.prefs.lang.transliteration;"/>
				  <caption label="&zotero.integration.prefs.lang.translation;"/>
				  <caption label="&zotero.integration.prefs.lang.sorting;"/>
				</row>
			  </rows>
			</grid>
		  </groupbox>
		</tabpanel>
	  </tabpanels>
	</tabbox>
</dialog>
